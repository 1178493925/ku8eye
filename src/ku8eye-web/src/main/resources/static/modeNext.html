<div class="row">
	<div class="col-xs-12">
		<div class="box">
			<!-- /.box-header -->
			<div class="box-body">
				<div style="padding-bottom: 5px;padding-top:15px">
					<button id="nodeDetection"  class="btn btn-primary" data-dismiss="modal">检查参数</button>
					<button id="install"  class="btn btn-primary" data-dismiss="modal">进行安装</button>	
				</div>
				<table id="example1" class="table table-bordered table-hover"
					style="font-size: 12px;">
					<thead>
						<tr>
							<th>系统参数</th>
							<th>当前值</th>
							<th>含义</th>
						</tr>
					</thead>
				</table>
				
			</div>
			<!-- /.box-body -->
		</div>
		<!-- /.box -->
	</div>
	<!-- /.col -->
</div>

<div class="row" id="Detection">
	<div class="col-xs-12">
		<div class="box">
			<!-- /.box-header -->
			<div class="box-body">
				<table id="example2" class="table table-bordered table-hover"
					style="font-size: 12px;">
					<thead>
						<tr>
							<!--<th><input type='checkbox' class='chkbox' name='child' />
							</th>-->
							<th>节点IP</th>
							<th>节点角色</th>
							<th>状态</th>
						</tr>
						<!--<tr>
							<td><input type='checkbox' class='chkbox' name='child' />
							</td>
							<td>192.168.1.1</td>
							<td>ku8 Master</td>
							<td>检测OK</td>
						</tr>
						<tr>
							<td><input type='checkbox' class='chkbox' name='child' />
							</td>
							<td>192.168.1.2</td>
							<td>ku8 Node</td>
							<td>检测OK</td>
						</tr>-->
					</thead>  
				</table>
			</div>
			<!-- /.box-body -->
		</div>
		<!-- /.box -->
	</div>
	<!-- /.col -->
</div>

<script type="text/javascript">
	// To make Pace works on Ajax calls
	$("#Detection").hide();
	$("#install").attr("disabled", true);
	$.ajax({
	    url:"/deploycluster/GlobParameter",
	    type: "GET",
	    dataType:"json",
	    success: function(data){
	    	$.each(data,function(i,item){
	    		$("#example1").append("<tr><td>"+item.name+"</td><td>"+item.value+"</td><td>"+item.describe+"</td></tr>");
	    		
	    	});
	    	
	    }
	}); 
	
	$("#install").click(function(){
		alert("ddddd");
	});
	
	$("#nodeDetection").click(function(){
		$("#install").attr("disabled", false);
		$("#Detection").show();
		$.ajax({
		    url:"/deploycluster/NodesList",
		    type: "GET",
		    dataType:"json",
		    success: function(data){
		    	$.each(data,function(i,item){
		    		var nodeRole="";
		    		$.each(item.nodeRoleParams,function(m,n){
		    			nodeRole+=m+";";
		    		});
		    		$("#example2").append("<tr><td>"+item.ip+"</td><td>"+nodeRole+"</td><td>待检测</td></tr>");
		    		
		    	});
		    	
		    }
		}); 
	});
	
	
	
	
</script>
